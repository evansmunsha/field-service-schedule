(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33053,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:l="",children:o,iconNode:c,...d},h)=>(0,s.createElement)("svg",{ref:h,...i,width:t,height:t,stroke:e,strokeWidth:n?24*Number(a)/Number(t):a,className:r("lucide",l),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]])),l=(e,t)=>{let i=(0,s.forwardRef)(({className:i,...l},o)=>(0,s.createElement)(n,{ref:o,iconNode:t,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...l}));return i.displayName=a(e),i},o=l("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),c=l("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),d=l("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),h=l("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),u=l("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),p=l("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),m=async e=>{try{let t=localStorage.getItem(e);return t?{key:e,value:t}:null}catch(e){return console.error("Error getting from storage:",e),null}},x=async(e,t)=>{try{return localStorage.setItem(e,t),{key:e,value:t}}catch(e){return console.error("Error setting storage:",e),null}};function g(){let[e,a]=(0,s.useState)({}),[r,i]=(0,s.useState)(["Donald Kalenga","Exodus Banda","Haswell Kashitu","Obed Limbo","Cosmas Hantumbu","Madabwitso Mwila","Simon Zulu","Joseph Kayenga","Maybin Mpoppwa","Henry Mwanza","Yotham Banda","John Chikopa","Oliver Kalumba","Justin Shikupilwa","Gonious Machila","Henry Lungu","Zakeyo Phiri","Evans Munsha","Cornelius Phiri","Adson Phiri","C Mulungushi","Isaac Kashitu","Denny Kashitu","Ian Zulu","Joseph Mwaile","Martin Phiri","Tafuna Mapande","Aaron Phiri"]),[n,l]=(0,s.useState)(["Mw 6/2017 Delight","Mw 4/2018 Teaching","Mw 4/2018 Toolbox","Mw 2/2017 Wise Use Of Literature","Km 10/2014 Size Opportunities","Km 4/2015 Best Use Of Our Time","Km 6/2012 12 Reasons For Preaching","Mw 2/2018 Using Questions","Mw 12/2017 Contacting Everyone","Mw 9/2018 Starting Conversations","Mw 1/2016 Laying Ground Work","Km 11/2014 Personal Interest","Mw 12/2018 Helping Disposed Ones","Mw 09/2016 Pitfalls Avoid","Km 1/2015 Irate Householder","Km 12/2015 When To Discontinue","Km 10/2015 Reach The Heart","Km 12/2014 Effective Studies","Km 7/2015 Maintain Focus","Km 11/2012 Feelings Of Inadequacy","Km 11/2012 Busy Schedule","Mw 8/2016 Students To Progress","Km 10/2015 Students Study Habits","Km 6/2017 Delight In Preaching"]),[g]=(0,s.useState)(["Tuesday","Thursday","Saturday","Sunday"]),[y,v]=(0,s.useState)(new Date().getMonth()),[f,j]=(0,s.useState)(new Date().getFullYear()),[b,N]=(0,s.useState)(""),[w,_]=(0,s.useState)(""),[M,S]=(0,s.useState)(""),[k,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>{C(!0),T()},[]),(0,s.useEffect)(()=>{!k||e[`${f}-${y}`]||K(f,y)},[y,f,k]);let T=async()=>{try{let e=await m("field-service-people"),t=await m("field-service-topics"),s=await m("field-service-all-schedules");e?.value&&i(JSON.parse(e.value)),t?.value&&l(JSON.parse(t.value)),s?.value&&a(JSON.parse(s.value))}catch(e){console.log("No saved data found, using defaults")}},A=async(e,t)=>{try{await x(t,JSON.stringify(e)),S("âœ“ Saved"),setTimeout(()=>S(""),2e3)}catch(e){console.error("Error saving data:",e),S("âœ— Error saving")}},E=(e,t)=>{let s=t-1,a=e;return s<0&&(s=11,a--),`${a}-${s}`},K=(t,s)=>{let r=[],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=new Date(t,s+1,0).getDate(),l=`${t}-${s}`,o=e[E(t,s)]||[];for(let e=1;e<=n;e++){let a=new Date(t,s,e),n=i[a.getDay()];if(g.includes(n)){let t=o[r.length]||{};r.push({date:`${e}-${a.toLocaleString("default",{month:"short"})}`,fullDate:a.toISOString(),conductor:t.conductor||"",topic:t.topic||"",prayer:t.prayer||""})}}a(e=>{let t={...e,[l]:r};return A(t,"field-service-all-schedules"),t})},P=(e,t,s)=>{let r=`${f}-${y}`;a(a=>{let i=[...a[r]||[]];i[e]={...i[e],[t]:s};let n={...a,[r]:i};return A(n,"field-service-all-schedules"),n})},O=()=>{if(b.trim()){let e=[...r,b.trim()];i(e),A(e,"field-service-people"),N("")}},$=()=>{if(w.trim()){let e=[...n,w.trim()];l(e),A(e,"field-service-topics"),_("")}},D=e=>{let t=y+e,s=f;t>11?(t=0,s++):t<0&&(t=11,s--),v(t),j(s)},L=["January","February","March","April","May","June","July","August","September","October","November","December"],I=e[`${f}-${y}`]||[];return k?(0,t.jsx)("div",{className:"min-h-screen bg-linear-to-br from-blue-50 to-indigo-100 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6 no-print",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o,{className:"w-8 h-8 text-indigo-600"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Field Service Schedule"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[M&&(0,t.jsx)("span",{className:`text-sm font-semibold ${M.includes("âœ“")?"text-green-600":"text-red-600"}`,children:M}),(0,t.jsxs)("button",{onClick:()=>{window.print()},className:"flex items-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-900 transition",children:[(0,t.jsx)(p,{className:"w-4 h-4"}),"Print"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-lg",children:[(0,t.jsx)(h,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-semibold",children:"Auto-Save ON"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6 no-print",children:[(0,t.jsx)("button",{onClick:()=>D(-1),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:"â† Previous"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("h2",{className:"text-2xl font-semibold text-gray-700",children:[L[y]," ",f]}),(0,t.jsxs)("button",{onClick:()=>{let t=`${f}-${y}`,s=e[E(f,y)]||[];0===s.length?alert("No data found in previous month to copy"):a(e=>{let a=[...e[t]||[]].map((e,t)=>{let a=s[t]||{};return{...e,conductor:a.conductor||e.conductor,topic:a.topic||e.topic,prayer:a.prayer||e.prayer}}),r={...e,[t]:a};return A(r,"field-service-all-schedules"),S("âœ“ Copied from previous month"),setTimeout(()=>S(""),3e3),r})},className:"flex items-center gap-2 bg-purple-600 text-white px-3 py-1 rounded-lg hover:bg-purple-700 transition text-sm",title:"Copy assignments from previous month",children:[(0,t.jsx)(u,{className:"w-4 h-4"}),"Copy Previous"]})]}),(0,t.jsx)("button",{onClick:()=>D(1),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:"Next â†’"})]}),(0,t.jsx)("div",{className:"mb-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded no-print",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:"ğŸ’¡ Tip:"}),' When you navigate to a new month, assignments are automatically copied from the previous month. Click "Print" to create a notice board version.']})}),(0,t.jsxs)("div",{id:"printable-schedule",children:[(0,t.jsxs)("div",{className:"print-header",children:[(0,t.jsx)("h1",{className:"print-title",children:"FIELD SERVICE SCHEDULE - KANYAMA CENTRAL"}),(0,t.jsx)("div",{className:"print-title-border"}),(0,t.jsxs)("h2",{className:"print-month",children:[L[y].toUpperCase()," ",f]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"schedule-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"print-th",children:"DATE"}),(0,t.jsx)("th",{className:"print-th",children:"CONDUCTOR"}),(0,t.jsx)("th",{className:"print-th",children:"TOPIC/MATERIAL"}),(0,t.jsx)("th",{className:"print-th",children:"PRAYER"})]})}),(0,t.jsx)("tbody",{children:0===I.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"border-2 border-black p-4 text-center text-gray-500",children:"No service days in this month"})}):I.map((e,s)=>(0,t.jsxs)("tr",{className:"schedule-row",children:[(0,t.jsx)("td",{className:"print-td font-bold",children:e.date}),(0,t.jsxs)("td",{className:"print-td",children:[(0,t.jsxs)("select",{value:e.conductor,onChange:e=>P(s,"conductor",e.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 no-print",children:[(0,t.jsx)("option",{value:"",children:"Select Conductor"}),r.map((e,s)=>(0,t.jsx)("option",{value:e,children:e},s))]}),(0,t.jsx)("span",{className:"print-value",children:e.conductor||"_______________"})]}),(0,t.jsxs)("td",{className:"print-td",children:[(0,t.jsxs)("select",{value:e.topic,onChange:e=>P(s,"topic",e.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 no-print",children:[(0,t.jsx)("option",{value:"",children:"Select Topic"}),n.map((e,s)=>(0,t.jsx)("option",{value:e,children:e},s))]}),(0,t.jsx)("span",{className:"print-value",children:e.topic||"_______________"})]}),(0,t.jsxs)("td",{className:"print-td",children:[(0,t.jsxs)("select",{value:e.prayer,onChange:e=>P(s,"prayer",e.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 no-print",children:[(0,t.jsx)("option",{value:"",children:"Select Prayer"}),r.map((e,s)=>(0,t.jsx)("option",{value:e,children:e},s))]}),(0,t.jsx)("span",{className:"print-value",children:e.prayer||"_______________"})]})]},s))})]})})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 no-print",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Manage People"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsx)("input",{type:"text",value:b,onChange:e=>N(e.target.value),onKeyPress:e=>"Enter"===e.key&&O(),placeholder:"Add new person",className:"flex-1 p-2 border rounded focus:ring-2 focus:ring-indigo-500"}),(0,t.jsx)("button",{onClick:O,className:"bg-indigo-600 text-white p-2 rounded hover:bg-indigo-700 transition",children:(0,t.jsx)(c,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,t.jsx)("span",{children:e}),(0,t.jsx)("button",{onClick:()=>{let e;i(e=r.filter((e,t)=>t!==s)),A(e,"field-service-people")},className:"text-red-600 hover:text-red-800 transition",children:(0,t.jsx)(d,{className:"w-4 h-4"})})]},s))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Manage Topics"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsx)("input",{type:"text",value:w,onChange:e=>_(e.target.value),onKeyPress:e=>"Enter"===e.key&&$(),placeholder:"Add new topic",className:"flex-1 p-2 border rounded focus:ring-2 focus:ring-indigo-500"}),(0,t.jsx)("button",{onClick:$,className:"bg-indigo-600 text-white p-2 rounded hover:bg-indigo-700 transition",children:(0,t.jsx)(c,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,t.jsx)("span",{className:"text-sm",children:e}),(0,t.jsx)("button",{onClick:()=>{let e;l(e=n.filter((e,t)=>t!==s)),A(e,"field-service-topics")},className:"text-red-600 hover:text-red-800 transition",children:(0,t.jsx)(d,{className:"w-4 h-4"})})]},s))})]})]})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-linear-to-br from-blue-50 to-indigo-100 p-4 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-xl text-gray-600",children:"Loading..."})})}e.s(["default",()=>g],33053)}]);